<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Donkeycar Test 4 :: Rico.ai — My notes in the AI world.</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Descriptions Descriptions I am testing here the number of epochs to use. I am monitoring the Loss to make sure it drops and if it plateaus. If it plateaus, where does it begin to plateau. I am also using a very small dropout and using RMSPROP. The learning rate is left default.
Good results will have the car remaining on the track consitently. It may drive off, in certain areas if the training is not good, but it should for the most part stay within the lines."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/blog/donkeycar-30-epochs/" />


<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Donkeycar Test 4 :: Rico.ai — My notes in the AI world." />
<meta name="twitter:description" content="Descriptions Descriptions I am testing here the number of epochs to use. I am monitoring the Loss to make sure it drops and if it plateaus. If it plateaus, where does it begin to plateau. I am also using a very small dropout and using RMSPROP. The learning rate is left default.
Good results will have the car remaining on the track consitently. It may drive off, in certain areas if the training is not good, but it should for the most part stay within the lines." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="Rico Castelo" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Donkeycar Test 4 :: Rico.ai — My notes in the AI world.">
<meta property="og:description" content="Descriptions Descriptions I am testing here the number of epochs to use. I am monitoring the Loss to make sure it drops and if it plateaus. If it plateaus, where does it begin to plateau. I am also using a very small dropout and using RMSPROP. The learning rate is left default.
Good results will have the car remaining on the track consitently. It may drive off, in certain areas if the training is not good, but it should for the most part stay within the lines." />
<meta property="og:url" content="/blog/donkeycar-30-epochs/" />
<meta property="og:site_name" content="Donkeycar Test 4" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2017-11-02 00:00:00 &#43;0000 UTC" />









</head>
<body class="dark-theme">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">rico.ai</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/blog">Blog</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/blog">Blog</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="/blog/donkeycar-30-epochs/">Donkeycar Test 4</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2017-11-02
        </span>
      
      <span class="post-author">— Written by Rico Castelo</span>
      
        <span class="post-read-time">— 2 min read</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="/tags/donkey/">donkey</a>&nbsp;
        
          #<a href="/tags/donkeycar/">donkeycar</a>&nbsp;
        
          #<a href="/tags/tensorflow/">tensorflow</a>&nbsp;
        
          #<a href="/tags/nerual-network/">nerual network</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      

<h1 id="descriptions">Descriptions</h1>

<p>Descriptions
I am testing here the number of epochs to use. I am monitoring the Loss to make sure it drops and if it plateaus. If it plateaus, where does it begin to plateau. I am also using a very small dropout and using RMSPROP. The learning rate is left default.</p>

<p>Good results will have the car remaining on the track consitently. It may drive off, in certain areas if the training is not good, but it should for the most part stay within the lines. The video shows the result of the parameters.</p>

<h1 id="parameters">Parameters</h1>

<ul>
<li>50 Epochs

<ul>
<li>Typically only need 23 for early stop to end</li>
</ul></li>
<li>RMSPROP<br />

<ul>
<li>Could also use Adam</li>
</ul></li>
<li>10% Dropout

<ul>
<li>Typically you see 50%</li>
</ul></li>
<li>1e-4 Learning Rate

<ul>
<li>A default value to start with</li>
</ul></li>
</ul>

<h1 id="results">Results</h1>

<p><code>Pretty good results. Went off the track in certain areas.</code>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/REoOGzdBbes" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>

<pre><code class="language-python">BATCH_SIZE = 128
TRAIN_TEST_SPLIT = 0.8

# Keras settings
TRAINING_MODEL = MODEL_TYPE_CATEGORICAL     # Type of Neural Network model
IS_TENSORBOARD = True                       # Create Tensorboard data
IS_PLOT_RESULTS = True                      # Create matplotlib plots
IS_EARLY_STOP = False                       # If no improve, stop training early
EARLY_STOP_COUNT = 5                        # Number of no changes before stopping
LEARNING_RATE = 1.0e-4                      # Learn rate.  Decrease to fix bias
EPOCHS = 50                                 # Number of epochs to run.
DROPOUT_1 = 0.1                             # First Dropout percentage
DROPOUT_2 = 0.1                             # Second Dropout percentage
OPTIMIZER = OPTIMIZER_TYPE_RMSPROP          # Type of Optimizer to use.
LOSS_WEIGHT_ANGLE = 0.9                     # Loss weight for Angles
LOSS_WEIGHT_THROTTLE = 0.001                # Loss Weight for Throttle        
</code></pre>


  <figure class="left" >
    <img src="/images/donkeycar/test4/loss.png"  alt="Test 4 Loss Plot"   />
    
  </figure>




  <figure class="left" >
    <img src="/images/donkeycar/test4/angle_out_loss.png"  alt="Test 4 Angle Out Loss Plot"   />
    
  </figure>




  <figure class="left" >
    <img src="/images/donkeycar/test4/angle_out_acc.png"  alt="Test 4 Angle Out Accuracy Plot"   />
    
  </figure>




  <figure class="left" >
    <img src="/images/donkeycar/test4/throttle_out_loss.png"  alt="Test 4 Throttle Out Loss Plot"   />
    
  </figure>




  <figure class="left" >
    <img src="/images/donkeycar/test4/throttle_out_acc.png"  alt="Test 4 Throttle Out Accuracy Plot"   />
    
  </figure>



    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/blog/ros-euclid/">
                <span class="button__icon">←</span>
                <span class="button__text">ROS Intel Euclid Install on Nvidia Jeston TX1</span>
              </a>
            </span>
          
          
        </div>
      </div>
    

    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ricoai" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">rico.ai</span>
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span>© 2019 Powered by <a href="https://gohugo.io">Hugo</a></span>
        <span>Theme created by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


  
</div>

</body>
</html>
